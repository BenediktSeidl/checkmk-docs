= Configuring Checkmk
:revdate: 2016-04-21
[.seealso][#cmk_commandline] [#wato_hosts] [#wato_rules]MT:WATO - The (CMK) configuration interface
MD:Checkmk enables the entire basic configuration to be viewed directly in the web interface. This article offers a first introduction to this important module.


== Introduction

image::bilder/watosnapin.png[align=left,right]

(CMK) differentiates between the *configuration environment* in which you manage the hosts, services and settings, and the actual *monitoring* in which the operational monitoring takes place.

Changes in the configuration -- adding a new host, for example -- will initially have
no effect on the monitoring.
Changes must first be enabled by an [.guihints]#Activate Changes# command, which will bring all changes that you have accumulated since the last activation command as a ‘bundle’ into the active production.
This might seem a little cumbersome,
but it does have the advantage that more complex changes can be prepared
without haste in advance before being put into production.  For example, after adding a
new host you might want to define thresholds or remove some services before
‘arming’ the new component.

The tool for configuring (CMK) via GUI is called the [.guihints]#WATO}}# 
({{Web Administration Tool}}).# WATO maintains all configurations in a conventional
text data format which experienced users can edit manually, or even create with
scripts. WATO can be accessed via the corresponding element in the sidebar.
This element is included as standard and offers direct access to all WATO
modules.

Whenever you make a change to the monitoring configuration using WATO, this
change will at first be picked up and held as [.guihints]#pending}}.# Such changes can
be identified by the ICON[button_2_changes.png] button in the WATO modules,
and respectively the ICON[wato_changes.png] button in the sidebar.  Both of
these buttons open a list of the changes:

image::bilder/wato_pending_log.png[]

With the [.guihints]#Activate Changes# button the configuration data from WATO will
be used to generate a new configuration for the monitoring core, and instruct
the core to immediately begin using the new configuration:

image::bilder/wato_activate_changes.png[align=center,width=400]

The list of pending changes is subsequently cleared. These entries are not
lost however -- they can subsequently be called up with the [.guihints]#Audit Log# button. Here you
can find a log file of all changes that have been made using WATO.


== Snapshots

In version VERSION[1.2.8] or earlier, whenever you activate changes
WATO automatically creates a backup of the configuration. The list of these
backups is accessed via the ICON[icon_backup.png] [.guihints]#Backup & Restore# WATO module:

image::bilder/wato_snapshots.png[]

A click on ICON[icon_edit.png] (details of a snaphot), and then a click on
[.guihints]#Restore Snapshot# copies this back into the configuration.  *Important
note*: Only the configuration will be restored -- the monitoring’s state
and history will not be affected.

*Note: From (CMK) Version VERSION[1.4.0* this feature is no longer available, as it is being completely revised.*]

== Important WATO modules

WATO includes numerous modules -- one for each important function of (CMK).
The following modules are particularly important:

[cols=, options="header"]
|===


<th width="5%"></th>
|Module|Function


|ICON[icon_home.png]
|{{Main Menu}}
|A list of all WATO modules, each with a short description


|ICON[icon_agents.png]
|{{Monitoring Agents}}
|Here you will find (CMK) agents for Linux, Windows and other operating
systems. In the (EE) you can also configure, package and automatically
update the agents via WATO.


|ICON[icon_folder.png]
|{{Hosts}}
|Management of the hosts to be monitored -- perhaps the most important module.


|ICON[icon_configuration.png]
|{{Global Settings}}
|Global settings -- those that do not apply to specific hosts, services or
users.


|ICON[icon_rulesets.png]
| {{Host & Service Parameters}}
|All settings for specific hosts or services are found here. The configuration
procedure is [wato_rules|rule based].

|===


== Quick access

Once you have worked longer with WATO you will have learned its icons off by
heart -- then the smaller version of the WATO menu for the sidebar can be recommended:

image::bilder/wato_quickaccess.png[align=center,width=200]
