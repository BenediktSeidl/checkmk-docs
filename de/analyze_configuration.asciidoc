include::global_attr.adoc[]
= Konfiguration analysieren
:revdate: draft
:title: Die Konfiguration analysieren
:description: Prüfen Sie hiermit auf einfache Weise die Konfiguration des {CMK}-Servers Ihrer Instanz. Hierbei geht es nicht um eine inhaltliche Prüfung Ihres Monitorings sondern um die Optimierung der Umgebungsvoraussetzungen bezüglich Performance, Sicherheit, Prozessorauslastung, Benutzeranzahl usw..

{related-start}
xref:notifications.html[Benachrichtigungen]
xref:commands.html[Kommandos]
xref:wato_monitoringagents.html[Monitoring-Agenten]
{related-end}

== Einleitung

Wenn Ihre {CMK}-Instanz einmal eingerichtet und aufgebaut ist, kommen über 
kurz oder lang Fragen auf: Geht das nicht schneller? Lässt 
sich das optimieren? Kann man das System sicherer machen?

Ein Ansatz zur Beantwortung dieser Fragen ist die Überprüfung und 
nachfolgende Optimierung der Serverumgebung. Je performanter Ihr 
System ist, um so schneller und effektiver arbeitet es auch. Je verlässlicher Sie Ihr System abgesichert haben, um so beruhigter können Sie damit arbeiten.

{CMK} analysiert schnell und übersichtlich die wesentlichen Umgebungsparameter und zeigt 
die Ergebnisse auf der Seite [.guihint]#Setup > Maintenance > Analyze configuration# an. 

Hinweis: Beim Aufruf von [.guihint]#Analyze configuration# wird stets der aktuelle Zustand aller Umgebungsvoraussetzungen geprüft und angezeigt. Daher kann es nach dem Aufruf der Funktion ein wenig dauern, bis die Seite mit den Ergebnissen angezeigt wird.

image::analyze_config.png[alt="Übersicht der Konfigurationsanalyse"]

== Die Anzeige interpretieren

Die analysierten Serverdaten sind in verschiedene Gruppen unterteilt. Die farbigen xref:monitoring_basics.html#services[Servicezustände] liefern einen schnellen Überblick über den Gesamtzustand.

Generell ist die Prüfung der Systemumgebung auf alle Parameter sinnvoll. Wollen Sie jedoch einzelne Tests nicht (erneut) durchführen lassen, zum Beispiel die Prüfung [.guihint]#Backup configured#, da in Ihrem Unternehmen eine andere Lösung zur Backup-Erstellung genutzt wird, so können Sie durch Klick auf den zugehörigen icon:button_disable_test[alt="."]-Knopf jeden der Tests ausschalten.

Ist eine der Analysen im Zustand {WARN} oder {CRIT}, so wird am rechten Ende der betreffenden Zeile ein icon:button_ackn_test[alt="Knopf zur Quittierung der Meldung."]-Knopf zur xref:intro_finetune.html#ack[Quittierung der Meldung] angezeigt. Im vorherigen Beispiel [.guihint]#Backup configured# bleibt dadurch zwar die Warnung in der Konfigurationsanalyse erhalten, aber es werden keine Benachrichtigungen mehr verschickt. Ist die Quittierung deaktiviert, so wechselt der Knopf auf die Darstellung icon:button_unackn_test[alt="Knopf zur Rücknahme der Quittierung."]. Mit diesem Knopf heben Sie die Deaktivierung dann auch wieder auf.

== Die Umgebungsanalyse im Detail
Zu jedem aufgeführten Analysepunkt erhalten Sie mit einem Klick auf den zugehörigen icon:button_info[alt="Knopf zum Einblenden weiterer Informationen."]-Knopf weitere Details zu den festgestellten Werten, eine Einschätzung des Status sowie Hinweise zur Optimierung. Vieles lässt sich damit bereits verstehen und bearbeiten.
Für die folgenden Themen bietet das Handbuch zusätzlich ergänzende Artikel: 

* Standardmäßig sind in neuen Checkmk-Installationen die xref:notifications.html#rules[Benachrichtigungen per Regeln], die mit den [.guihint]#Deprecations# > [.guihint]#Flexible and plain email notifications# abgeprüft werden, bereits aktiviert. Anderenfalls aktivieren Sie diese über die [.guihint]#xref:wato.html[globalen Einstellungen]#.

* In den xref:cmc_differences.html[Besonderheiten des CMC] werden Inhalte zu den Parametern [.guihint]#Performance# > [.guihint]#Check helper usage# / [.guihint]#Checkmk checker count# / [.guihint]#Checkmk checker usage# / [.guihint]#Checkmk fetcher usage# / [.guihint]#Checkmk helper usage# behandelt.

* Die xref:ldap.html[Benutzerverwaltung mit LDAP/Active Directory] enthält Informationen zum Parameter [.guihint]#Performance# > [.guihint]#Number of users#.

* Die beiden Parameter [.guihint]#Reliability# > [.guihint]#Backups configured# und [.guihint]#Security# > [.guihint]#Encrypt backups# finden Sie im Handbuch-Artikel xref:backup.html[Backups].

* Zum Parameter [.guihint]#Security# > [.guihint]#Secure GUI (HTTP)# finden Sie im Handbuch ergänzende Informationen unter xref:security.html[Sicherheit (Security)].

== Die Sicherheit des Systems steigern
Mit den Erkenntnissen aus der Konfigurationsanalyse können Sie aber nicht nur die Leistungsfähigkeit Ihres {CMK}-Servers optimieren. Auch die Sicherheit der Monitoringumgebung wird geprüft und kann verbessert werden.

Wenn Sie Checkmk sehr sicher betreiben wollen, empfehlen wir unbedingt die folgenden Punkte:

* Verwenden Sie xref:omd_https.html[HTTPS für die Weboberfläche].
* Bauen Sie xref:active_checks.html[Agentenverbindungen] entweder über SSH oder verschlüsselt auf.
* Nutzen Sie xref:ldap.html[LDAP] unbedingt in Kombination mit SSL.
* Verschlüsseln Sie Ihre Datensicherung.
* Sichern Sie auch den xref:livestatus.html[Livestatus] über ein xref:agent_deployment.html[Zertifikat] ab.
* Verwenden Sie HTTPS, wenn Sie den {CMK}-Server in einem xref:managing_docker.html[Docker-Container] installieren.

